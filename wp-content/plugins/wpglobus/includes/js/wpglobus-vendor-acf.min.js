jQuery(document).ready(function(l){"use strict";var o;"undefined"!=typeof WPGlobusAcf&&(o={parseBool:function(e){return!/^(false|0)$/i.test(e)&&!!e},isPro:function(){return o.parseBool(WPGlobusAcf.pro)},isBuilder:function(){return o.parseBool(WPGlobusAcf.builder_id)},vendorAcfFields:null,option:{},init:function(e){o.isBuilder()&&"undefined"==typeof WPGlobusDialogApp||(o.option=l.extend(o.option,e),o.option.pro?(o.startAcf(".acf-field"),o.runActions()):(0<l(".acf_postbox .field").length&&o.startAcf(".acf_postbox .field"),0<l(".acf-postbox .acf-field").length&&o.startAcf(".acf-postbox .acf-field")),o.attachListeners())},runActions:function(){void 0!==WPGlobusAcf.actions.fixTextFields&&WPGlobusAcf.actions.fixTextFields&&o.fixTextFields()},fixTextFields:function(){l.each(WPGlobusAcf.fields,function(e,i){var t,n=l('input[type="text"]#'+i);1!=n.length||1==(t=n.parent(".acf-input-wrap")).length&&t.hasClass("acf-input-wrap")&&t.css("height","auto")})},isDisabledField:function(t){var n=!1,o=l("#"+t).parents(".acf-field").attr("id");return void 0!==o&&l.each(WPGlobusAcf.disabledFields,function(e,i){i==o&&(n=!0)}),n||(l.each(WPGlobusAcf.disabledFields,function(e,i){i==t&&(n=!0)}),n)},startAcf:function(e){l(".acf_postbox").parents("#postbox-container-2").length,l(e).each(function(){var e,i,t=l(this);if(t.hasClass("field_type-textarea")||t.hasClass("acf-field-textarea")){if(e=t.find("textarea").attr("id"),o.registerField(e),o.isDisabledField(e))return!0;if(!o.isVendorAcfField(e))return!0;i=l("#"+e).height()+20,WPGlobusDialogApp.addElement({id:e,dialogTitle:"Edit ACF field",style:"width:97%;float:left;",styleTextareaWrapper:"height:"+i+"px;",sbTitle:"Click for edit",onChangeClass:"wpglobus-on-change-acf-field"})}else if(t.hasClass("field_type-text")||t.hasClass("acf-field-text")){if(e=t.find("input").attr("id"),o.registerField(e),o.isDisabledField(e))return!0;if(!o.isVendorAcfField(e))return!0;WPGlobusDialogApp.addElement({id:e,dialogTitle:"Edit ACF field",style:"width:97%;float:left;",sbTitle:"Click for edit",onChangeClass:"wpglobus-on-change-acf-field"})}})},registerField:function(e,i){var t=!1;return void 0!==e&&-1==e.indexOf("acfcloneindex")&&(o.isRegisteredField(e)||(t=!0,WPGlobusAcf.fields.push(e))),!!t&&e},getFields:function(){return WPGlobusAcf.fields},getDisabledFields:function(){return WPGlobusAcf.disabledFields},unificationField:function(e){return/acf\[/.test(e)&&(e=(e=e.replace("[","-")).replace("]","")),e},getVendorAcfFields:function(){if(null===o.vendorAcfFields){if("undefined"==typeof WPGlobusVendorAcfFields||""==WPGlobusVendorAcfFields)return o.vendorAcfFields=!1,o.vendorAcfFields;o.vendorAcfFields=WPGlobusVendorAcfFields.split(",")}return o.vendorAcfFields},isVendorAcfField:function(t){if(void 0===t)return!1;t=o.unificationField(t);var n=!1,e=o.getVendorAcfFields();return e&&l.each(e,function(e,i){if(i===t)return!(n=!0)}),n},isRegisteredField:function(i){var t=!1;return o.getFields().forEach(function(e){if(e==i)return!(t=!0)}),t},attachListeners:function(){var i;o.option.pro&&(i=this,acf.add_action&&acf.add_action("append",function(e){i.replaceCloneIndex(e)}))},replaceCloneIndex:function(e){var i=e.data("id");e.find('[data-source-id*="acfcloneindex"]').each(function(){l(this).attr("data-source-id",l(this).attr("data-source-id").replace("acfcloneindex",i))})}},(WPGlobusAcf=l.extend({},WPGlobusAcf,o)).init({pro:WPGlobusAcf.pro}))});