jQuery(document).ready(function(e){"use strict";var s;"undefined"!=typeof WPGlobusOptions&&(s={currentTabID:"",firstLanguageCb:null,init:function(){s.initTab(),s.checkHandlers(),s.addListeners(),s.initSpecs()},setCurrentTabID:function(t){s.currentTabID=t},getCurrentTabID:function(){return s.currentTabID},setFirstLanguageCb:function(){null!==s.firstLanguageCb&&s.firstLanguageCb.off("click"),e('#enabled_languages-list li input[type="checkbox"]').prop("disabled",!1);var t=e("#enabled_languages-list li").eq(0);s.firstLanguageCb=t.find('input[type="checkbox"]'),s.firstLanguageCb.prop("checked","checked"),s.firstLanguageCb.prop("disabled","disabled"),s.firstLanguageCb.css({visibility:"hidden"}),s.firstLanguageCb.on("click",function(t){return t.preventDefault(),!1})},handlerEnabled_languages:function(){e(".wpglobus-sortable").sortable({placeholder:"ui-state-highlight",update:function(t,n){e('#enabled_languages-list li input[type="checkbox"]').css({visibility:"visible"}),s.setFirstLanguageCb()}}),e(".wpglobus-sortable").disableSelection(),s.setFirstLanguageCb()},handlerLanguagesTable:function(){var s=e("#wpglobus-options-languagesTable").parents(".wpglobus-options-tab").data("tab");e("#wpglobus-options-languagesTable .manage-column.sortable a").each(function(t,n){var a=e(n).attr("href");-1!=a.indexOf("tab")?-1==a.indexOf("tab-from")&&(a=a.replace(/tab/,"tab-from"),a+="&tab="+s):a+="&tab="+s,e(n).attr("href",a)})},checkHandlers:function(){e(".wpglobus-options-field").each(function(t,n){if(void 0===e(n).data("js-handler"))return!0;var a=e(n).data("js-handler");"function"==typeof s[a]&&s[a]()})},initTab:function(){var t=e("#section-tab-"+WPGlobusOptions.tab);s.setCurrentTabID(WPGlobusOptions.tab),0==t.length&&(s.setCurrentTabID(WPGlobusOptions.defaultTab),t=e("#section-tab-"+s.currentTabID)),t.css({display:"block"}),e("#wpglobus-tab-link-"+s.currentTabID).addClass("wpglobus-tab-link-active"),s.initLanguageTable(),e(".wpglobus-options-wrap .no-inline-js").attr("onclick","return false;"),setTimeout(function(){e("#section-tab-"+WPGlobusOptions.tab+" .wpglobus-options-menu .wpglobus-tab-link-subsection").eq(0).click()},200),s.tabActions(s.getCurrentTabID())},initLanguageTable:function(){var a,s,t=e(".wpglobus-the-language-item-installed");9<t.length||(a=[],t.each(function(t){var n=+e(this).data("order");a[n]=e(this)}),s=e("#wpglobus-options-languagesTable #the-list tr").eq(0),e.each(a,function(t,n){e(s).before(n)}))},addListeners:function(){e(document).on("click","input.wpglobus-enabled_languages",function(t){var n=e(this).prop("checked"),a=e(this).attr("rel");n?e("#"+a).val("1"):e("#"+a).val("")}),e(document).on("click",".wpglobus-tab-link",function(t){var n=e(this).data("tab");s.setCurrentTabID(n),window.history.pushState("data","Title",WPGlobusOptions.newUrl.replace("{*}",n)),e(".wpglobus-options-tab").css({display:"none"}),e("#section-tab-"+n).css({display:"block"}),e(".wpglobus-tab-link").removeClass("wpglobus-tab-link-active"),e("#wpglobus-tab-link-"+n).addClass("wpglobus-tab-link-active"),e("#wpglobus_options_current_tab").val(n),1==e("#section-tab-"+n+" .wpglobus-tab-link-subsection.wpglobus-tab-link-active").length?e("#section-tab-"+n+" .wpglobus-tab-link-subsection.wpglobus-tab-link-active").click():0<e("#section-tab-"+n+" .wpglobus-tab-link-subsection").length&&e("#section-tab-"+n+" .wpglobus-tab-link-subsection").eq(0).click(),s.tabActions(e(this))}),e(document).on("click",".wpglobus-tab-link-subsection",function(t){var n=e(this).data("tab");e(".wpglobus-options-tab-subsection").css({display:"none"}),e("#subsection-tab-"+n).css({display:"block"}),e(".wpglobus-tab-link-subsection").removeClass("wpglobus-tab-link-active"),e("#wpglobus-tab-link-subsection-"+n).addClass("wpglobus-tab-link-active")})},tabActions:function(t){"string"==typeof t&&(t=e("#wpglobus-tab-link-"+t).eq(0)),0!=t.length&&(t.hasClass("wpglobus-tab-hide-submit-button")?e("#form-wpglobus-options .submit").addClass("hidden"):e("#form-wpglobus-options .submit").removeClass("hidden"))},initSpecs:function(){e(document).on("dblclick","#section-tab-customizer h2",function(t){e(".wpglobus-theme-info-spec").removeClass("hidden")}),e(document).on("dblclick",".column-wpglobus_flag",function(t){location=location.href+"&flags"})}},(WPGlobusOptions=e.extend({},WPGlobusOptions,s)).init())});